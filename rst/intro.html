

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Started &mdash; odelab 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="odelab 0.0.1 documentation" href="../index.html" />
    <link rel="next" title="Solvers" href="solver.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
  </head>
  <body>
<link href='http://fonts.googleapis.com/css?family=Abel|Cabin|Varela|Inconsolata' rel='stylesheet' type='text/css'>
<div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">odelab 0.0.1 documentation</a></div>
        <div class="rel">
          <a href="install.html" title="Installation"
             accesskey="P">previous</a> |
          <a href="solver.html" title="Solvers"
             accesskey="N">next</a> |
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

<a href="http://github.com/olivierverdier/odelab">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
</a>
    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="getting-started">
<span id="id1"></span><h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">odelab</span></tt> is a Python library for solving differential equations.</p>
<p>There is support for</p>
<ul class="simple">
<li>easily solving generic differential equations using one of the many methods already provided in <tt class="docutils literal"><span class="pre">odelab</span></tt></li>
<li>solve differential equations of a <em>special structure</em>, such as differential-algebraic equations, and equations arising in mechanics</li>
<li>easily create your own custom numerical schemes</li>
</ul>
<div class="section" id="differential-equations">
<h2>Differential Equations<a class="headerlink" href="#differential-equations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="differential-equations-in-mathematics">
<h3>Differential Equations in Mathematics<a class="headerlink" href="#differential-equations-in-mathematics" title="Permalink to this headline">¶</a></h3>
<p>A <em>differential equation</em> is a problem of the following kind.
One is looking for a function <span class="math">\(u\)</span> which fulfills the following property:</p>
<div class="math">
\[u'(t) = f(t,u(t)) \qquad \forall t ≥ 0\]</div>
<p>Such a problem has many solutions, so one must also prescribe an <em>initial condition</em>:</p>
<div class="math">
\[u(0) = u_0\]</div>
<p>The data of the function <span class="math">\(f\)</span> and of the initial condition <span class="math">\(u_0\)</span> guarantee in general the existence and uniqueness of the solution.</p>
</div>
<div class="section" id="solving-differential-equations-numerically">
<h3>Solving Differential Equations Numerically<a class="headerlink" href="#solving-differential-equations-numerically" title="Permalink to this headline">¶</a></h3>
<p>In order to solve a differential equation numerically, we need a <em>numerical scheme</em>.
The simplest numerical scheme is the explicit Euler method, described as follows:</p>
<div class="math">
\[u_{n+1} = u_{n} + h f(t_n, u_n)\]</div>
<p>Given an initial condition <span class="math">\(u_0\)</span>, the explicit Euler method successively creates <span class="math">\(u_1\)</span>, <span class="math">\(u_2\)</span>, etc.
Notice that one has to specify a <em>time step</em> <span class="math">\(h\)</span> for this method to work.</p>
<p><tt class="docutils literal"><span class="pre">odelab</span></tt> comes with many such schemes, and makes it very easy to create new ones, see <a class="reference internal" href="scheme.html#scheme-chapter"><em>Scheme</em></a>.</p>
</div>
<div class="section" id="step-by-step-example">
<h3>Step-by-step Example<a class="headerlink" href="#step-by-step-example" title="Permalink to this headline">¶</a></h3>
<p>Let us examine a simple example.
Suppose we want to solve the problem</p>
<div class="math">
\[u' = -u\]</div>
<p>with the initial condition</p>
<div class="math">
\[u(0) = u_0 = 1\]</div>
<p>We first have to define the <em>system</em>, that is, the right hand side of the differential equation.
This is done as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">odelab</span> <span class="kn">import</span> <span class="n">System</span>

<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">u</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">u</span>

<span class="n">system</span> <span class="o">=</span> <span class="n">System</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>The next thing we need is to choose a <em>numerical method</em> to solve that differential equation.
Let us choose a very simple scheme, the <em>explicit Euler</em> scheme.
Most numerical schemes require a <em>time step</em>.
We choose here a time step of <span class="math">\(0.1\)</span>.
This is done as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">odelab.scheme.classic</span> <span class="kn">import</span> <span class="n">ExplicitEuler</span>
<span class="n">scheme</span> <span class="o">=</span> <span class="n">ExplicitEuler</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span> <span class="c"># Explicit Euler scheme with time step 0.1</span>
</pre></div>
</div>
<p>Now we have to set-up a solver object that will take care of running the simulation and storing the resulting computations:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">odelab</span> <span class="kn">import</span> <span class="n">Solver</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Solver</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="n">scheme</span><span class="p">,</span> <span class="n">system</span><span class="o">=</span><span class="n">system</span><span class="p">)</span> <span class="c"># we use the scheme and system variables defined earlier</span>
</pre></div>
</div>
<p>We still need to specify the initial condition for this simulation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">u0</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, we can run the simulation from <span class="math">\(t=0\)</span> to <span class="math">\(t=1\)</span> with the following call:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mf">1.</span><span class="p">)</span>
</pre></div>
</div>
<p>To summarize what we have up to now, the whole code is the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">odelab</span> <span class="kn">import</span> <span class="n">Solver</span><span class="p">,</span> <span class="n">System</span>
<span class="kn">from</span> <span class="nn">odelab.scheme.classic</span> <span class="kn">import</span> <span class="n">ExplicitEuler</span>

<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">u</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">u</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Solver</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="n">ExplicitEuler</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="n">system</span><span class="o">=</span><span class="n">System</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="n">s</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">u0</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mf">1.</span><span class="p">)</span>

<span class="n">s</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<p>[<a class="reference external" href="../plot_directive/code/explot.py">source code</a>, <a class="reference external" href="../plot_directive/code/explot.hires.png">hires.png</a>, <a class="reference external" href="../plot_directive/code/explot.pdf">pdf</a>]</p>
<div class="figure">
<img alt="../_images/explot.png" src="../_images/explot.png" />
</div>
</div>
<div class="section" id="example-with-plot">
<span id="vanderpol-example"></span><h3>Example with Plot<a class="headerlink" href="#example-with-plot" title="Permalink to this headline">¶</a></h3>
<div class="topic">
<p class="topic-title first">Example: Solving the van der Pol equation</p>
<p>Here is an example of solving the van der Pol equations with a Runge-Kutta method and then plotting the result with <tt class="docutils literal"><span class="pre">plot2D</span></tt>.
See <a class="reference internal" href="solver.html#simulation-name"><em>Simulation Name</em></a> and <a class="reference internal" href="solver.html#plot2d"><em>2D Plot</em></a> for more information.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">odelab</span> <span class="kn">import</span> <span class="n">Solver</span>
<span class="kn">from</span> <span class="nn">odelab.scheme.classic</span> <span class="kn">import</span> <span class="n">RungeKutta4</span>
<span class="kn">from</span> <span class="nn">odelab.system.classic</span> <span class="kn">import</span> <span class="n">VanderPol</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Solver</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="n">RungeKutta4</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">),</span> <span class="n">system</span><span class="o">=</span><span class="n">VanderPol</span><span class="p">())</span>
<span class="n">s</span><span class="o">.</span><span class="n">initialize</span><span class="p">([</span><span class="mf">2.7</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;2.7&#39;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mf">10.</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">plot2D</span><span class="p">()</span>

<span class="n">s</span><span class="o">.</span><span class="n">initialize</span><span class="p">([</span><span class="mf">1.3</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;1.3&#39;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mf">10.</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">plot2D</span><span class="p">()</span>
</pre></div>
</div>
<p>[<a class="reference external" href="../plot_directive/code/vanderpol.py">source code</a>, <a class="reference external" href="../plot_directive/code/vanderpol.hires.png">hires.png</a>, <a class="reference external" href="../plot_directive/code/vanderpol.pdf">pdf</a>]</p>
<div class="figure">
<img alt="../_images/vanderpol.png" src="../_images/vanderpol.png" />
</div>
</div>
</div>
</div>
<div class="section" id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">odelab</span></tt> is built on a very simple architecture.
The main classes are <tt class="xref py py-class docutils literal"><span class="pre">Solver</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">Scheme</span></tt> and <tt class="xref py py-class docutils literal"><span class="pre">System</span></tt>.</p>
<blockquote>
<div><ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">Solver</span></tt> takes care of initializing, running and storing the result of a simulation</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">System</span></tt> models a right hand side, which may be just a function, or a partitioned system, or even a DAE.</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">Scheme</span></tt> models a method to solve the equation. It may be explicit or implicit, adaptive or not, it is all up to you.</li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#differential-equations">Differential Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#architecture">Architecture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="solver.html">Solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="system.html">Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheme.html">Scheme</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="install.html" title="Installation"
             >previous</a> |
          <a href="solver.html" title="Solvers"
             >next</a> |
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="../_sources/rst/intro.txt"
               rel="nofollow">Show Source</a>
        </div>
		<div>
			<a href="http://www.mathjax.org/">
  <img title="Powered by MathJax"
       src="http://www.mathjax.org/badge.gif"
       border="0" alt="Powered by MathJax" />
   </a>
   </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2010–2012, Olivier Verdier.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1pre.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>